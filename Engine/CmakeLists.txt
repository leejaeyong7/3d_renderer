include_directories(
	Entity
    GUI
	Physics)

add_subdirectory (Entity)
add_subdirectory(Physics)

file( GLOB ENGINE_SRC *.cpp )
file( GLOB GUI_SRC GUI/*.cpp )

find_package(X11)
find_package(GLUT)
find_package(ZLIB)
find_package(OpenGL)
find_library(IOKIT_FRAMEWORK IOKit)
find_library(COCOA_FRAMEWORK Cocoa)
message("Finding library IOKit: ${IOKIT_FRAMEWORK}")
message("Finding library Cocoa: ${COCOA_FRAMEWORK}")

add_library( SimGUI STATIC ${GUI_SRC} )
add_library( SimEngine STATIC ${ENGINE_SRC} )

include_directories(
    "/usr/local/Cellar/irrlicht/1.8.1/include/irrlicht"
    ${OpenGL_INCLUDE_DIRS}
    ${GLUT_INCLUDE_DIRS}
    ${ZLIB_INCLUDE_DIRS}
    ${X11_INCLUDE_DIRS}
    )

target_include_directories(SimGUI PUBLIC Entity Physics)
target_link_libraries(SimGUI /usr/local/Cellar/irrlicht/1.8.1/lib/libirrlicht.a)
target_link_libraries(SimEngine /usr/local/Cellar/irrlicht/1.8.1/lib/libirrlicht.a)
target_link_libraries(SimGUI SimEngine SimEntity SimPhysics ${OPENGL_LIBRARIES} ${GLUT_LIBRARIES} ${ZLIB_LIBRARIES} ${X11_LIBRARIES} ${IOkit_FRAMEWORK} ${Cocoa_FRAMEWORK})
target_link_libraries(SimEngine SimGUI SimEntity SimPhysics ${OPENGL_LIBRARIES} ${GLUT_LIBRARIES} ${ZLIB_LIBRARIES} ${X11_LIBRARIES} ${IOkit_FRAMEWORK} ${Cocoa_FRAMEWORK})
